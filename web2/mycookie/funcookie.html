<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="box"></div>
  </body>
  <script>
    //设置cookie (键名,值,过期时间天数)
    function setCookie(cname, cvalue, exdays) {
      var d = new Date() //实例化日期对象
      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000) //设置当前时间为 3天以后
      var expires = 'expires=' + d.toGMTString()
      document.cookie = cname + '=' + cvalue + '; ' + expires
    }
    setCookie('suibian', '中国', 2)

    //获取cookie (键名)
    function getCookie(cname) {
      var name = cname + '='
      var ca = document.cookie.split(';')
      console.log(ca)
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i].trim()
        //c : suibian=中国  name :suibian=
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length)
        }
      }
      return ''
    }
    console.log(getCookie('suibian'), '****')

    function checkCookie() {
      var user = getCookie('username')
      if (user != '') {
        alert('欢迎 ' + user + ' 再次访问')
      } else {
        user = prompt('请输入你的名字:', '')
        if (user != '' && user != null) {
          setCookie('username', user, 30)
        }
      }
    }

    checkCookie()
  </script>
</html>
